"use strict";import i from"./isElementHidden.js";import f from"./isElementClickable.js";import{instanceOfUI5Element as r}from"../UI5Element.js";import{isSafari as c}from"../Device.js";const E=e=>e.hasAttribute("data-ui5-focus-trap"),d=e=>{const l=getComputedStyle(e);return e.scrollHeight>e.clientHeight&&["scroll","auto"].indexOf(l.overflowY)>=0||e.scrollWidth>e.clientWidth&&["scroll","auto"].indexOf(l.overflowX)>=0},H=async(e,l)=>!e||i(e)?null:m(e,!0,l),T=async(e,l)=>!e||i(e)?null:m(e,!1,l),b=e=>e.hasAttribute("data-ui5-focus-redirect")||!i(e),m=async(e,l,a)=>{let t,n,s=-1;e.shadowRoot?t=l?e.shadowRoot.firstChild:e.shadowRoot.lastChild:e instanceof HTMLSlotElement&&e.assignedNodes()?(n=e.assignedNodes(),s=l?0:n.length-1,t=n[s]):a?t=e:t=l?e.firstElementChild:e.lastElementChild;let o;for(;t;){const u=t;if(!i(u)){if(r(t)&&(t=await t.getFocusDomRefAsync()),!t||i(t))return null;if(t.nodeType===1&&b(t)&&!E(t)){if(f(t)||(o=await m(t,l),!c()&&!o&&d(t)))return t&&typeof t.focus=="function"?t:null;if(o)return o&&typeof o.focus=="function"?o:null}}t=l?u.nextSibling:u.previousSibling,n&&!n[s].contains(t)&&(s=l?s+1:s-1,t=n[s])}return null};export{H as getFirstFocusableElement,T as getLastFocusableElement};
//# sourceMappingURL=FocusableElements.js.map
