"use strict";(self.webpackChunk_ui5_webcomponents_website=self.webpackChunk_ui5_webcomponents_website||[]).push([[5889],{32394:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});var o=t(31085),s=t(71184);const i={},c="Events",r={id:"docs/development/events",title:"Events",description:"In this article, we will discuss events in the context of UI5 Web Components.",source:"@site/docs/docs/4-development/05-events.md",sourceDirName:"docs/4-development",slug:"/docs/development/events",permalink:"/ui5-webcomponents/nightly/docs/development/events",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"documentationSidebar",previous:{title:"Slots",permalink:"/ui5-webcomponents/nightly/docs/development/slots"},next:{title:"Lifecycle Methods",permalink:"/ui5-webcomponents/nightly/docs/development/lifecycle-hooks"}},l={},d=[{value:"<code>@event</code> Decorator",id:"event-decorator",level:2},{value:"How to use events",id:"how-to-use-events",level:2},{value:"Types",id:"types",level:2},{value:"noConflict mode",id:"noconflict-mode",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"events",children:"Events"}),"\n",(0,o.jsx)(n.p,{children:"In this article, we will discuss events in the context of UI5 Web Components."}),"\n",(0,o.jsxs)(n.p,{children:["Components use ",(0,o.jsx)(n.code,{children:"CustomEvent"})," to inform developers of important state changes in the components. For example, the ",(0,o.jsx)(n.code,{children:"change"})," event is fired whenever the value of a ",(0,o.jsx)(n.code,{children:"ui5-input"})," is changed."]}),"\n",(0,o.jsxs)(n.h2,{id:"event-decorator",children:[(0,o.jsx)(n.code,{children:"@event"})," Decorator"]}),"\n",(0,o.jsxs)(n.p,{children:["To define your own custom event, you need to use the ",(0,o.jsx)(n.code,{children:"@event"})," decorator."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"event"})," decorator is a class decorator that takes one required argument as a string to define the event name and an optional argument as an object literal to describe details of the custom element."]}),"\n",(0,o.jsx)(n.p,{children:"The details object allows developers to describe more information about the event."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import UI5Element from "@ui5/webcomponents-base/dist/UI5Element.js";\nimport customElement from "@ui5/webcomponents-base/dist/decorators/customElement.js";\nimport event from "@ui5/webcomponents-base/dist/decorators/event.js";\n\n@customElement("my-demo-component")\n@event("change", {\n\tdetail: {\n\t\tvalid: { type: Boolean },\n\t},\n})\nclass MyDemoComponent extends UI5Element {}\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," This decorator is used only to describe the events of the component and is not meant to create emitters."]}),"\n",(0,o.jsx)(n.h2,{id:"how-to-use-events",children:"How to use events"}),"\n",(0,o.jsxs)(n.p,{children:["As mentioned earlier, the ",(0,o.jsx)(n.code,{children:"@event"})," decorator doesn't create event emitters. To notify developers of component changes, we have to fire events ourselves. This can be done using the ",(0,o.jsx)(n.code,{children:"fireEvent"})," method that comes from the ",(0,o.jsx)(n.code,{children:"UI5Element"})," class."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import UI5Element from "@ui5/webcomponents-base/dist/UI5Element.js";\nimport customElement from "@ui5/webcomponents-base/dist/decorators/customElement.js";\nimport property from "@ui5/webcomponents-base/dist/decorators/property.js";\nimport event from "@ui5/webcomponents-base/dist/decorators/event.js";\n\n@customElement("my-demo-component")\n@event("change")\nclass MyDemoComponent extends UI5Element {\n    @property()\n    value = "";\n\n    onNativeInputChange(e) {\n        this.value = e.target.value;\n        this.fireEvent("change");\n    }\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Events fired by the ",(0,o.jsx)(n.code,{children:"fireEvent"})," method can be configurable, meaning you can decide whether the event should be cancelable or able to bubble. This can be done by setting the third and fourth parameters of the function to true, respectively."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'this.fireEvent("change", {}, cancelable, bubbles);\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," By default, the ",(0,o.jsx)(n.code,{children:"fireEvent"})," method returns a boolean value that helps you understand whether the event was canceled (i.e., if the ",(0,o.jsx)(n.code,{children:"preventDefault"})," method was called)."]}),"\n",(0,o.jsx)(n.h2,{id:"types",children:"Types"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"@event"})," decorator is generic and accepts a TypeScript type that describes its detail. This type is crucial for preventing incorrect detail data when the event is fired using ",(0,o.jsx)(n.code,{children:"fireEvent"})," (which is also generic) and for ensuring type safety when listening for the event, so you know what kind of detail data to expect."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," It's required to export all types that describe specific event details for all public events."]}),"\n",(0,o.jsx)(n.p,{children:"Here's an example implementation:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:'import UI5Element from "@ui5/webcomponents-base/dist/UI5Element.js";\nimport customElement from "@ui5/webcomponents-base/dist/decorators/customElement.js";\nimport property from "@ui5/webcomponents-base/dist/decorators/property.js";\nimport event from "@ui5/webcomponents-base/dist/decorators/event.js";\n\n// Define the event detail type\nexport type MyDemoComponentChangeEventDetail = {\n    valid: boolean;\n};\n\n@customElement("my-demo-component")\n@event<MyDemoComponentChangeEventDetail>("change", {\n    detail: {\n        valid: { type: Boolean },\n    },\n})\nclass MyDemoComponent extends UI5Element {\n    @property()\n    value = "";\n\n    onNativeInputChange(e: Event) {\n        this.fireEvent<MyDemoComponentChangeEventDetail>("change", {\n            valid: true,\n        });\n    }\n}\n\nexport { MyDemoComponent };\n'})}),"\n",(0,o.jsx)(n.h2,{id:"noconflict-mode",children:"noConflict mode"}),"\n",(0,o.jsxs)(n.p,{children:["By default, UI5 Web Components fire all custom events twice: once with their name (e.g., ",(0,o.jsx)(n.code,{children:"change"}),") and once more with a ",(0,o.jsx)(n.code,{children:"ui5-"})," prefix (e.g., ",(0,o.jsx)(n.code,{children:"ui5-change"}),"). For example, when the ",(0,o.jsx)(n.code,{children:"ui5-switch"})," is toggled, it fires a ",(0,o.jsx)(n.code,{children:"change"})," event and a ",(0,o.jsx)(n.code,{children:"ui5-change"})," event."]}),"\n",(0,o.jsxs)(n.p,{children:["This ",(0,o.jsx)(n.code,{children:"noConflict"})," setting allows us to prevent clashes between native and custom events."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"noConflict"})," setting (",(0,o.jsx)(n.code,{children:"@ui5/webcomponents-base/config/NoConflict.js"}),") controls this behavior:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:[(0,o.jsx)(n.code,{children:"false"})," (default)"]}),": Events fire both with and without the ",(0,o.jsx)(n.code,{children:"ui5-"})," prefix."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"true"})}),": Events fire only with the ",(0,o.jsx)(n.code,{children:"ui5-"})," prefix, avoiding name collisions with third-party libraries."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Object"}),": Specific events listed in the object fire only with the ",(0,o.jsx)(n.code,{children:"ui5-"})," prefix, while all other events fire both ways. Example:","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n    "events": ["selection-change", "header-click"]\n}\n'})}),"\n","In this case, only ",(0,o.jsx)(n.code,{children:"selection-change"})," and ",(0,o.jsx)(n.code,{children:"header-click"})," fire with the ",(0,o.jsx)(n.code,{children:"ui5-"})," prefix, leaving these names available for other uses."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note:"})," With this setting, when attaching an event listener to a UI5 web component used inside a template, the event name must be specified with the ui5- prefix."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},71184:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var o=t(14041);const s={},i=o.createContext(s);function c(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);